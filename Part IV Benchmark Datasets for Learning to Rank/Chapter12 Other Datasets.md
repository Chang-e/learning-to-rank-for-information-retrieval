# 第12章 其他数据集

**摘要**：在本章中，我们介绍了Yahoo和Microsoft发布的两个新的基准数据集。 这些数据集来自商业搜索引擎中使用的训练数据，并且在查询数量和每个查询的文档数量方面都比LETOR数据集大得多。

## 12.1 雅虎学习排序挑战数据集

雅虎实验室于2010年3月1日至5月31日组织了一次学习排序比赛。鉴于学习排序已成为一个非常热门的研究领域，许多研究人员都参加了这一挑战并测试了自己的算法。 活动中有1,055个团队的4,736词提交，最终在以色列海法举行的第27届国际机器学习会议（ICML 2010）的研讨会上总结了这一比赛的结果。 该挑战的官方网站是http://learningtorankchallenge.yahoo.com/。

据比赛官网网站称，此比赛中使用的数据集来自网络搜索排序，是雅虎的子集。 用于训练其排序功能。

这个比赛有两个数据集，分别对应一个不同的国家：一个大数据集和一个小数据集。 这两个数据集是相关的，但在一定程度上也有所不同。 每个数据集分为三组：训练，验证和测试。 表12.1和表12.2中显示了各组的统计信息。

表12.1 雅虎学习排序比赛的数据集1

|         | 训练 | 验证 | 测试 |
| ------------ | -------- | -------- | -------- |
| query数     | 19944       | 2994       | 6983       |
| URL数     | 473134      | 71083       | 165660       |

表12.2 雅虎学习排序比赛的数据集2

|         | 训练 | 验证 | 测试 |
| ------------ | -------- | -------- | -------- |
| query数     | 1266       | 1266       | 3798       |
| URL数     | 34815      | 34881       | 103174       |

数据集包括从query-URL对中提取的特征向量以及相关性判断。相关性判断可以采用五个不同的值，从0（不相关）到4（完全相关）。共有700个特征。其中一些仅在一个数据集中定义，而另一些则在两个数据集中定义。未为集合定义特征时，其值为0。所有特征均已规范化为[0,1]范围。由于以下原因，不公开query，URL和特征描述，仅公开特征的值。特征工程是任何商业搜索引擎的重要组成部分。因此，搜索引擎公司很少披露其使用的特征。释放query和URL将导致特征反向工程的风险。这是一个合理的考虑；但是，这将阻止信息检索研究人员研究什么样的特征是最有效的学习排名方法。

比赛分为两个阶段：

- 仅使用较大的数据集的标准学习排名。
- 迁移学习，目标是利用来自数据集1可以在数据集2上建立更好的排序函数。

评估比赛使用了两种方法：NDCG [2]和预期倒数排名（ERR）。 ERR的定义如下：
$$
ERR=\sum_{i=1}^{m}\frac{1}{m}\frac{G(y_i)}{16}\prod_{j=1}^{i-1}(1-\frac{G(y_i)}{16}),  G(y)=2^y-1
\tag{12.1}
$$
我们可以从雅虎的sandbox下载数据集（http://webscope.sandbox.yahoo.com/.）。 这些数据集没有官方的基线，但是，大多数比赛的获胜者已在研讨会程序中公开了其算法的详细信息。 它们可以作为有意义的基线。

## 12.2 微软的学习排序数据集

微软亚洲研究院在2010年5月发布了MSLR-WEB30k和MSLR-WEB10K两个用于学习排序的大规模数据集。 MSLR-WEB30K实际上有31,531个query和3,771,126个文档。 截至本书撰写时，MSLR-WEB30k数据集是用于学习排序的最大的公开可用数据集。 MSLR-WEB10K是MSLR-WEB30K的随机样本，它具有10,000个query和1,200,193个文档。

在这两个数据集中，query和URL用ID表示，其原因与雅虎中未公开query和URL的原因相似。Microsoft数据集包括从query和URL对中提取的特征向量以及相关性判断：

- 相关性判断是从必应搜索引擎的已淘汰标签内集中获得的，该标签集采用从0（不相关）到4（完全相关）的五个值。
- 共有136个特征。 这些功能不是来自必应，而是由微软研究院提取的。 所有特征都在研究社区中广泛使用，包括query-doc匹配功能，文档特征，Web图形特征和用户行为特征。 详细的特征列表可在Microsoft Learning-to-Rank数据集的官方网站上找到（http://research.microsoft.com/~MSLR.）。有关这些特征的信息的可用性将使研究人员能够研究功能对排名性能的影响。

就像在LETOR数据集[3]中一样，在Microsoft学习排序数据集中使用的度量是NDCG，$P@k$和$MAP$。 此外，将数据集划分为五个部分以进行五重交叉验证，并且采用与LETOR中相同的策略。 目前，这些数据集也没有官方基线。 研究人员需要实现自己的基线。

## 12.3 讨论

我们可以看到发布数据集越来越大的趋势，我们相信，随着整个科研界以及整个行业的不断努力，将会有更多的学习排序的数据资源，并且可以对信息检索的学习进行研究，发展更加快速。

## 参考文献

1. Baeza-Yates, R., Ribeiro-Neto, B.: Modern Information Retrieval. Addison-Wesley, Reading (1999)
2. Järvelin,K.,Kekäläinen,J.:Cumulatedgain-basedevaluationofIRtechniques.ACMTransac- tions on Information Systems **20**(4), 422–446 (2002)
3. Liu, T.Y., Xu, J., Qin, T., Xiong, W.Y., Li, H.: LETOR: Benchmark dataset for research on learning to rank for information retrieval. In: SIGIR 2007 Workshop on Learning to Rank for Information Retrieval (LR4IR 2007) (2007)

